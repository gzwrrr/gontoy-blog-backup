<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <link rel="icon" href="https://my-photos-1.oss-cn-hangzhou.aliyuncs.com/Individual/logo.png"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#21332d"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><link rel="icon" href="/logo.png"><title>分布式系统特有的故障</title><meta name="description" content="分布式系统特有的故障">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-42911d78.css" as="style"><link rel="stylesheet" href="/assets/style-42911d78.css">
    <link rel="modulepreload" href="/assets/app-f746a503.js"><link rel="modulepreload" href="/assets/framework-ec2af7a3.js"><link rel="modulepreload" href="/assets/分布式系统特有的故障-已发布.html-a8780b7d.js"><link rel="modulepreload" href="/assets/分布式系统特有的故障-已发布.html-9dadd8b6.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><!----><!----><!----></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="主页"><FontIcon icon="zhuye"></FontIcon>主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/guide/" class="nav-link" aria-label="导航"><FontIcon icon="tubiaozhuanqu-16"></FontIcon>导航<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="编程语言"><span class="title"><FontIcon icon="code"></FontIcon>编程语言</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/article/java/" class="nav-link" aria-label="Java"><FontIcon></FontIcon>Java<!----></a></li><li class="dropdown-item"><a href="/article/go/" class="nav-link" aria-label="Go"><FontIcon></FontIcon>Go<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/article/algorithm/" class="nav-link" aria-label="算法"><FontIcon icon="jichengsuanfa"></FontIcon>算法<!----></a></div><div class="nav-item hide-in-mobile"><a href="/article/springs/" class="nav-link active" aria-label="Springs"><FontIcon icon="bxl-spring-boot"></FontIcon>Springs<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="数据库"><span class="title"><FontIcon icon="database-full"></FontIcon>数据库</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/article/mysql/" class="nav-link" aria-label="MySQL"><FontIcon></FontIcon>MySQL<!----></a></li><li class="dropdown-item"><a href="/article/redis/" class="nav-link" aria-label="Redis"><FontIcon></FontIcon>Redis<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="设计"><span class="title"><FontIcon icon="sheji1"></FontIcon>设计</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/article/design/" class="nav-link" aria-label="设计模式"><FontIcon></FontIcon>设计模式<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="中间件"><span class="title"><FontIcon icon="zhongjianjian"></FontIcon>中间件</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/article/rabbitmq/" class="nav-link" aria-label="RabbitMQ"><FontIcon></FontIcon>RabbitMQ<!----></a></li><li class="dropdown-item"><a href="/article/elasticsearch/" class="nav-link" aria-label="ElasticSearch"><FontIcon></FontIcon>ElasticSearch<!----></a></li><li class="dropdown-item"><a href="/article/mongodb/" class="nav-link" aria-label="Mongodb"><FontIcon></FontIcon>Mongodb<!----></a></li><li class="dropdown-item"><a href="/article/netty/" class="nav-link" aria-label="Netty"><FontIcon></FontIcon>Netty<!----></a></li><li class="dropdown-item"><a href="/article/quartz/" class="nav-link" aria-label="Quartz"><FontIcon></FontIcon>Quartz<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="运维"><span class="title"><FontIcon icon="yunwei-yunweirizhi"></FontIcon>运维</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/article/git/" class="nav-link" aria-label="Git"><FontIcon></FontIcon>Git<!----></a></li><li class="dropdown-item"><a href="/article/docker/" class="nav-link" aria-label="Docker"><FontIcon></FontIcon>Docker<!----></a></li><li class="dropdown-item"><a href="/article/jenkins/" class="nav-link" aria-label="Jenkins"><FontIcon></FontIcon>Jenkins<!----></a></li><li class="dropdown-item"><a href="/article/linux/" class="nav-link" aria-label="Linux"><FontIcon></FontIcon>Linux<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/article/modeling/" class="nav-link" aria-label="数学建模"><FontIcon icon="qita"></FontIcon>数学建模<!----></a></div><div class="nav-item hide-in-mobile"><a href="/article/other/" class="nav-link" aria-label="其他文章"><FontIcon icon="qita"></FontIcon>其他文章<!----></a></div><div class="nav-item hide-in-mobile"><a href="/about/" class="nav-link" aria-label="关于"><FontIcon icon="guanyu1"></FontIcon>关于<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><!----><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button class="search-pro-button" role="search" aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></button><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/article/springs/" class="nav-link sidebar-link sidebar-page" aria-label="Spring 全家桶"><FontIcon></FontIcon>Spring 全家桶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><FontIcon></FontIcon><span class="title">通用</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><FontIcon></FontIcon><span class="title">原理</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><FontIcon></FontIcon><span class="title">Spring Cloud</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable"><FontIcon></FontIcon><span class="title">分布式各组件</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><FontIcon></FontIcon><span class="title">通用</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%A4%9A%E8%8A%82%E7%82%B9%E5%A4%8D%E5%88%B6-%E5%B7%B2%E5%8F%91%E5%B8%83.html" class="nav-link sidebar-link sidebar-page" aria-label="多节点复制"><FontIcon></FontIcon>多节点复制<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%9C%89%E7%9A%84%E6%95%85%E9%9A%9C-%E5%B7%B2%E5%8F%91%E5%B8%83.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="分布式系统特有的故障"><FontIcon></FontIcon>分布式系统特有的故障<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%B2%E5%8F%91%E5%B8%83.html" class="nav-link sidebar-link sidebar-page" aria-label="微服务架构设计模式"><FontIcon></FontIcon>微服务架构设计模式<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E6%97%A0%E4%B8%BB%E8%8A%82%E7%82%B9%E5%A4%8D%E5%88%B6-%E5%B7%B2%E5%8F%91%E5%B8%83.html" class="nav-link sidebar-link sidebar-page" aria-label="无主节点复制"><FontIcon></FontIcon>无主节点复制<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6-%E5%B7%B2%E5%8F%91%E5%B8%83.html" class="nav-link sidebar-link sidebar-page" aria-label="主从复制"><FontIcon></FontIcon>主从复制<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><FontIcon></FontIcon><span class="title">Alibaba</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><FontIcon></FontIcon><span class="title">Srping Boot</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><div><!----><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><FontIcon icon></FontIcon>分布式系统特有的故障</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">gzw</span></span><span property="author" content="gzw"></span></span><!----><span class="page-date-info" aria-label="Writing Date📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-10-10T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 5 min</span><meta property="timeRequired" content="PT5M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category4 clickable" role="navigation">分布式</span><span class="page-category-item category6 clickable" role="navigation">小知识点</span><meta property="articleSection" content="分布式,小知识点"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag4 clickable" role="navigation">分布式</span><span class="page-tag-item tag6 clickable" role="navigation">小知识点</span><meta property="keywords" content="分布式,小知识点"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%9C%89%E7%9A%84%E6%95%85%E9%9A%9C-%E5%B7%B2%E5%8F%91%E5%B8%83.html#分布式系统特有的故障" class="router-link-active router-link-exact-active toc-link level1">分布式系统特有的故障</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%9C%89%E7%9A%84%E6%95%85%E9%9A%9C-%E5%B7%B2%E5%8F%91%E5%B8%83.html#写在前面" class="router-link-active router-link-exact-active toc-link level1">写在前面</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%9C%89%E7%9A%84%E6%95%85%E9%9A%9C-%E5%B7%B2%E5%8F%91%E5%B8%83.html#不可靠网络" class="router-link-active router-link-exact-active toc-link level1">不可靠网络</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%9C%89%E7%9A%84%E6%95%85%E9%9A%9C-%E5%B7%B2%E5%8F%91%E5%B8%83.html#可能的问题" class="router-link-active router-link-exact-active toc-link level2">可能的问题</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%9C%89%E7%9A%84%E6%95%85%E9%9A%9C-%E5%B7%B2%E5%8F%91%E5%B8%83.html#如何应对" class="router-link-active router-link-exact-active toc-link level2">如何应对</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%9C%89%E7%9A%84%E6%95%85%E9%9A%9C-%E5%B7%B2%E5%8F%91%E5%B8%83.html#不可靠的时钟" class="router-link-active router-link-exact-active toc-link level1">不可靠的时钟</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F%E7%89%B9%E6%9C%89%E7%9A%84%E6%95%85%E9%9A%9C-%E5%B7%B2%E5%8F%91%E5%B8%83.html#系统模型设计" class="router-link-active router-link-exact-active toc-link level1">系统模型设计</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="分布式系统特有的故障" tabindex="-1"><a class="header-anchor" href="#分布式系统特有的故障" aria-hidden="true">#</a> 分布式系统特有的故障</h1><h1 id="写在前面" tabindex="-1"><a class="header-anchor" href="#写在前面" aria-hidden="true">#</a> 写在前面</h1><ul><li>分布式架构中存在着许多不确定的因素，产生的原因各有不同，但是最终都会影响到数据密集型服务的数据一致性，严重的还可能导致服务不可用</li><li>我们在搭建时就必须明确各种问题产生的原因及其应对方案，但是选型往往不是固定的，而是需要根据实际情况做出权衡</li></ul><br><h1 id="不可靠网络" tabindex="-1"><a class="header-anchor" href="#不可靠网络" aria-hidden="true">#</a> 不可靠网络</h1><h2 id="可能的问题" tabindex="-1"><a class="header-anchor" href="#可能的问题" aria-hidden="true">#</a> 可能的问题</h2><ul><li>对于一个纯分布式，它的架构大多数为 Share Nothing 架构（Nothing but Network），即网络是不同节点间共享信息的唯一途径，数据的创数主要是通过以太网进行传输的</li><li>这是一种异步的网络，网络本身并不保证发出去的数据包一定能被接收到或者是何时被收到</li><li>不可靠网络传输可能出现的情况有： <ul><li>请求丢失</li><li>请求在某个队列中等待</li><li>远程节点失效</li><li>远程节点无法响应</li><li>远程节点已经处理完请求，但是 ACK 确认的时候丢包</li><li>远程节点已经处理完请求，但是回复处理很慢</li></ul></li><li>造成网络不可靠的原因可能还有应用本身会时常抛出异常，这也是其中的一个诱因</li><li>这里的网络大多数情况下都是使用 TCP 协议的，应用层的错误可能会导致网络包排队得不到处理或者无法响应，例如： <ul><li>应用程序 GC</li><li>处理节点在进行较重的磁盘 I/O 操作，CPU 无法从中断中恢复而导致无法处理网络请求</li><li>由于内存分页导致的颠簸延迟</li></ul></li><li>上述问题会跟网络本身的不稳定性相叠加，使得在外界看来网络更加不可靠；这种不可靠加重复制滞后并最终导致一致性问题</li></ul><br><h2 id="如何应对" tabindex="-1"><a class="header-anchor" href="#如何应对" aria-hidden="true">#</a> 如何应对</h2><ul><li>网络异常时返回的状态是不能确定的，我们需要把这种不确定变为一种更加确定的形式，这里可以利用超时机制</li><li>使用超时机制需要考虑的许多问题。短的超时时间便于更快地发现故障，但是增加了误判的风险；长的超时时间可能会导致服务不可用等问题。这是个需要根据具体业务做出权衡的问题</li><li>如果我们知道了失效是可以检测到的，还可以进行下面的操作： <ul><li>依靠服务发现模块中的健康检查功能，负载均衡时需要避免往失效节点上发送数据</li><li>如果是在主从复制模式中，倘若主节点失效则需要触发选举机制</li><li>如果是服务进程崩溃，但是操作系统正常，那么还可以使用脚本通知其他节点来代替掉线的节点</li><li>如果路由器已经确认目标节点不可访问，直接返回 ICMP 不可达</li></ul></li></ul><br><h1 id="不可靠的时钟" tabindex="-1"><a class="header-anchor" href="#不可靠的时钟" aria-hidden="true">#</a> 不可靠的时钟</h1><p><strong>时钟主要的作用：</strong></p><ul><li>描述当前的绝对时间</li><li>描述某件事的持续时间</li></ul><p><strong>可能的问题：</strong></p><ul><li>当一个节点 A 上的时钟比另外一个节点 B 上的时钟快时，当两个节点处理完了本地的请求准备写入另外的节点时就可能产生问题</li><li>因为节点 B 上的写入可能原本比节点 A 的写入早，但是由于节点 A 的时钟快了，时间错更大，进而导致放弃了节点 B 的写入</li><li>应对时钟不准确需要引入置信区间的概念（这里不展开），需要以此确定处理时间是在什么范围内的并将这个范围返回，实现这一点可以做到类似快照隔离的操作</li></ul><br><h1 id="系统模型设计" tabindex="-1"><a class="header-anchor" href="#系统模型设计" aria-hidden="true">#</a> 系统模型设计</h1><blockquote><p>网络以及时钟的不可靠会造成不同程度的延迟和节点的失效，针对这些需要有不同的模型应对</p></blockquote><p><strong>针对延迟的模型：</strong></p><ol><li><p>同步模型：</p><ul><li>假设网络延迟是有界的，并且我们能获取到延迟的上下界</li><li>在任何情况下延迟都不会超出这个上下界</li></ul></li><li><p>半同步模型（普遍使用）：</p><ul><li>认为大部分情况下延迟都是正常的</li><li>如果出现了违背的情况，就认为偏差非常大</li></ul></li><li><p>异步模型：</p><ul><li>对延迟不做任何假设</li><li>不使用任何超时机制</li></ul></li></ol><p><strong>针对失效的模型：</strong></p><ol><li>崩溃-终止模型： <ul><li>假设一个节点只能以崩溃的方式故障</li><li>这种情况下它可能在任意时刻停止响应，此后无法恢复</li></ul></li><li>崩溃-恢复模型： <ul><li>节点可能在任何时刻发生崩溃</li><li>但是这种崩溃可能在一段时间后恢复并再次响应</li><li>这种情况下已经持久化的数据得以保存，但是内存中的数据丢失</li></ul></li></ol><p><strong>注：大多数解决这些问题的算法都是基于半同步模型 + 崩溃-恢复模型来设计的</strong></p><p>注：在分布式算法设计中，安全性（safety，指发生意外无法撤回，但是我们一定知道发生的时间节点）和灵活性（liveness，指预期的事在未来某个时间点一定会发生）非常重要，其中安全性是必须满足的，而灵活性是需要具备一定的前提的</p><p><br><br></p></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">Last update: </span><!----></div><div class="contributors"><span class="label">Contributors: </span><!--[--><!--[--><span class="contributor" title="email: 1627121193@qq.com">格兹沃</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%A4%9A%E8%8A%82%E7%82%B9%E5%A4%8D%E5%88%B6-%E5%B7%B2%E5%8F%91%E5%B8%83.html" class="nav-link prev" aria-label="多节点复制"><div class="hint"><span class="arrow start"></span>Prev</div><div class="link"><FontIcon></FontIcon>多节点复制</div></a><a href="/article/springs/SpringCloud/%E9%80%9A%E7%94%A8/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%B2%E5%8F%91%E5%B8%83.html" class="nav-link next" aria-label="微服务架构设计模式"><div class="hint">Next<span class="arrow end"></span></div><div class="link">微服务架构设计模式<FontIcon></FontIcon></div></a></nav><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><div data-v-717f1b97></div></div><!--]--><!----></div><!--]--><!--]--><!----><div id="pwa-install"><!----><div id="install-modal-wrapper" style="display:none;"><div class="background"></div><div class="install-modal"><div class="header"><button class="close-button" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" class="icon close-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="close icon"><path d="M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z"></path></svg></button><div class="logo"><!----><div class="title"><h1></h1><p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div><div class="content"><div class="highlight"><!----><!----></div><div class="description"><h3>Description</h3><p></p></div></div><div class="button-wrapper"><button class="install-button">Install<span></span></button><button class="cancel-button">Cancel</button></div></div></div></div><!----><!--]--></div>
    <script type="module" src="/assets/app-f746a503.js" defer></script>
  </body>
</html>
