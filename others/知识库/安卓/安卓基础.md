# 安卓基础



## 日志

五个级别（Log）



APP 开发模式

1. 原生开发（Java + Kotlin）重用户体验
2. 混合开发（Flutter、前端）

也有可能使用 JNI 调用 C++ 的代码







## 工程结构

两个层次（一个项目中有多个模块）

1. 项目
2. 模块

项目结构：

**app：**

1. manifests：AndroidManifest.xml
2. java：源码 + 单元测试
3. res：当前模块的资源文件
   1. drawable：绘制的图像、可以适配
   2. layout：项目布局
   3. mipmap：存放 APP 图标（矢量图标）
   4. values：颜色值、主题

**gradle script：**

1. `build.gradle`：分为项目和模块，用于描述 APP 工程的编译规则
2. `proguard-rules.pro`：混淆规则
3. `gradle.properties`：环境变量
4. `settings.gradle`：配置需要编译的模块，初始内容为 `include ':app'`，表示只编译 APP 模块
5. `local.properties`：项目的本地配置文件，在项目编译时自动生成，描述了本地开发环境的配置信息





## 编译打包

注意点：编译工具版本需要和构建工具版本匹配

应用元数据（defaultConfig）

1. applicationId：APP 包名
2. minSdkVersion：最小版本号
3. targetSdkVersion：期望运行版本号
4. versionCode：APP 应用的版本号
5. versionName：APP 应用的版本名称





## 应用配置

### AndroidManifest.xml

包含以下几个部分：

1. 运行配置、备份等
2. Activity：应用程序组件



## 界面绘制

> 控件都可以称为 View 或者视图

两种方式；

1. XML
2. 硬编码

简单控件：

1. 文本：设置文本的：内容、颜色、宽高
2. 视图
   1. layout_width、layout_height：wrap_content、match_parent、固定大小
   2. ViewGroup、Context（Resource）
   3. 对齐（layout_gravity、gravity）
   4. orientation=vertical/horizontal
3. 布局
   1. LinearLayout
4. 按钮
   1. Button
   2. ImageButton
   3. ToggleButton
5. 图像

中级控件

高级控件

自定义控件



### 尺寸

> 相关文章：https://www.jb51.net/article/113125.htm

相关知识点：

| 单位/概念  | 说明                                                         |
| ---------- | ------------------------------------------------------------ |
| px         | 像素（Pixel），是屏幕上的最小可操作单元，通常用于表示图像或屏幕上的点 |
| resolution | 分辨率，表示屏幕上水平和垂直方向的像素数量，通常以宽x高的形式表示，例如1920x1080 |
| dpi        | 每英寸点数（Dots Per Inch），表示每英寸的线性像素密度，用于测量屏幕或图像的清晰度 |
| density    | 密度，通常指屏幕像素密度或显示设备的像素密度，通常以DPI（每英寸点数）表示 |
| inch       | 英寸，1 英寸约等于2.54厘米，主要用来描述手机屏幕的大小       |
| pt         | 通常用来作为字体的尺寸单位，1 pt相当于1/72英寸               |
| sp         | 大部分人只知道它通常用作字体的尺寸单位，实际大小还与具体设备上的用户设定有关 |
| dp（dip）  | 即设备无关像素（device independent pixels），这种尺寸单位在不同设备上的物理大小相同 |

dpi：像素密度

- ldpi：对应的dpi范围为0 ~ 120，也就是说每英寸有0到120个像素点的屏幕的屏幕密度都属于ldpi
- mdpi：dpi范围为120 ~ 160
- hdpi：dpi范围为160 ~ 240
- xhdpi：dpi范围为240~320
- xxhdpi：dpi范围为320~480

> px = dip x dpi / 160

对于相同尺寸的手机，即使分辨率不一样，同 dp 的组件占用屏幕的比例也相同





### 简单控件

### XML

注意点：需要注意命名空间

代码中获取 XML 中的组件使用 R 类（gradle 自动生成）直接获取

层次结构：

1. layout
2. id

引用：

1. 唯一 ID：@+id/
2. 引用组件：@string/





## 生命周期

父类：AppCompatActivity

**onCreate：**

1. Bundle
2. Intent

```java
public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        TextView textView = findViewById(R.id.tv);
        textView.setText("你好！");

        Button button = findViewById(R.id.bt);
        button.setOnClickListener(v -> {
            Intent intent = new Intent();
            intent.setClass(MainActivity.this, MainActivity2.class);
            startActivity(intent);
        });
    }
}
```



### 组件

1. Activity：新增一个 Activity 需要在新增：类、清单配置、XML 布局文件
2. Intent





# 其他

1. 通过 R 类获取组件，设置对应的属性

### resuorce

values

1. colors.xml
2. strings.xml
3. themes.xml