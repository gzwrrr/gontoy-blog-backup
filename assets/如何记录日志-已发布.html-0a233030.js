import{_ as i,Q as l,S as a,a5 as e}from"./framework-ec2af7a3.js";const r={},h=e('<h1 id="如何记录日志" tabindex="-1"><a class="header-anchor" href="#如何记录日志" aria-hidden="true">#</a> 如何记录日志</h1><h1 id="日志格式化" tabindex="-1"><a class="header-anchor" href="#日志格式化" aria-hidden="true">#</a> 日志格式化</h1><h2 id="基本内容" tabindex="-1"><a class="header-anchor" href="#基本内容" aria-hidden="true">#</a> 基本内容</h2><ul><li>时间</li><li>日志级别</li><li>日志信息</li></ul><br><h2 id="进阶" tabindex="-1"><a class="header-anchor" href="#进阶" aria-hidden="true">#</a> 进阶</h2><ul><li>线程名：可以通过线程名区分业务流程</li><li>主机名：分布式场景下，可以通过主机名区分实例的级别</li><li>方法名：方便区分相同日志的出处</li><li>类名：方便快速定位业务流程</li><li>行数：方便快速定位具体位置</li></ul><br><h2 id="修饰" tabindex="-1"><a class="header-anchor" href="#修饰" aria-hidden="true">#</a> 修饰</h2><ul><li>中括号 [] ：修饰日志级别、线程名、主机名</li><li>小括号 () ：修饰方法名、类名、行数（冒号隔开类名和行号）</li><li>横线 -- ：分割行号和日志信息</li><li>日志信息自定，关键在于记录入参与可能出现的错误</li></ul><br><h1 id="链式追踪" tabindex="-1"><a class="header-anchor" href="#链式追踪" aria-hidden="true">#</a> 链式追踪</h1><ul><li>在每条日志中加入业务系统中的一个或者多个唯一的 ID 标识</li><li>在定位业务问题是可以通过这些唯一 ID 快速过滤出相关的日志</li></ul><br><h1 id="日志级别" tabindex="-1"><a class="header-anchor" href="#日志级别" aria-hidden="true">#</a> 日志级别</h1><p>以下只是重要的日志级别</p><ul><li>Debug：记录技术细节和帮助理解系统运行的日志</li><li>Info：记录业务信息的日志</li><li>Warn：非紧急的可接受的错误信息</li><li>Error：非期望的错误或系统表现，通常由系统 bug 或环境问题导致</li></ul><p>注：日志级别从低到高：All、Trace、Debug、Info、Warn、Error、Fatal、Off</p><p><strong>不同环境下建议的日志级别：</strong></p><ul><li>Dev：Debug</li><li>Test：Debug</li><li>UAT：Info</li><li>Prod：Info</li></ul><br><h1 id="日志位置" tabindex="-1"><a class="header-anchor" href="#日志位置" aria-hidden="true">#</a> 日志位置</h1><ul><li>其他系统调用自有系统时：在受到请求和完成请求时各打印一次日志</li><li>自用系统调用第三方系统的接口时：在发送请求前和收到返回信息后各打印一次日志</li><li>任何可能出现异常的地方都需要打上日志</li></ul><p>注：还有一种特殊情况是，像消息传递之类的系统，为了节省日志存储和减少查看干扰，大多时候我们不需要在收到消息后直接打印该消息，一般建议在收到消息后，如果系统处理有异常，在异常中将原始消息打印。</p><br><h1 id="注意点" tabindex="-1"><a class="header-anchor" href="#注意点" aria-hidden="true">#</a> 注意点</h1><ul><li>避免打印或记录任何敏感信息</li><li>...</li></ul>',27),d=[h];function n(t,c){return l(),a("div",null,d)}const u=i(r,[["render",n],["__file","如何记录日志-已发布.html.vue"]]);export{u as default};
