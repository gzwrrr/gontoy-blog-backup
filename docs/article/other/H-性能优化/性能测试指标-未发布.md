---
title: "性能测试指标"
shortTitle: "性能测试指标"
description: "性能测试指标"
icon: ""
author: 
  name: gzw
  url: 
  email: 1627121193@qq.com
isOriginal: false
date: 2022-12-23
category: 
- "优化"
tag:
- "优化"
sticky: 1
star: false
article: true
timeline: true
dir:
  text: "性能测试指标"
  icon: ""
  collapsible: true
  index: true
  comment: true
headerDepth: 3
index: true
order: 2
copy:
  triggerWords: 100
  disableCopy: false
  disableSelection: false
feed:
  title: "性能测试指标"
  description: "性能测试指标"
  author:
    name: gzw
    email: 1627121193@qq.com
---




# 性能测试指标

[[toc]]


# 写在前面

1. 为什么要进行性能测试——优化

2. 一般如何优化——找到性能瓶颈再加以解决
3. 这些瓶颈一般能通过性能指标来暴露出来
4. 性能测试就是为了获取这些指标



# 性能测试流程

## 需求分析

- 明确系统架构
- 明确系统运行要求
- 明确测试内容
- 明确性能测试的指标
  - 无明确需求指标
  - 有明确需求指标
- 明确性能测试策略
  - 基准测试
  - 压力测试
  - 负载测试
  - 稳定性测试



## 测试计划以及方案

计划：

- 测试目标
- 人力资源
- 时间进度：包括用例设计、环境搭建、数据准备、脚本开发与执行、测试结果分析
- 风险评估

方案：

- 测试环境：包括架构设计、软硬件配置（服务器、数据库，尽量和生产环境一致）
- 测试工具：LoadRunner、Jmeter
- 监控工具：Linux: nmon、rpc、jvisualVm、spotlight | Windows: spotlight、perfmon

策略：满足规定服务器资源性能指标范围内，模拟不同用户数量的性能测试，确定系统能够承受的最大并发数

- 一般性能测试
  - 单一场景测试
  - 混合场景测试
- 稳定性测试
  - 混和业务场景下，负载测试并发数下，延长测试时间至少 72 小时以考察系统的稳定性



## 测试用例设计及执行

设计（按场景分类）：

- 预期性能指标测试
- 单业务并发性能测试
- 混合场景并发性能测试

具体设计：

- 明确测试性能点：如登录、注册
- 尝试编写用例

执行：

- 编写脚本
- 场景监控设计
- 运行场景并监控
- 编写测试报告



## 结果分析

> 略，具体结果具体分析





# 性能指标

响应时间：从用户发送一个请求到用户接收到服务器返回的响应数据所经历的时间（等待时间+服务时间）

并发数：反应系统的负载能力，可以通过分析每秒访问日志数得到

- 并发用户数：某一时刻同时向系统提交请求的用户数
- 在线用户数：某段时间内访问系统的用户数，不一定同时向系统提交请求
- 系统用户数：系统注册的总用户数

---

一般 80% 的业务都是在 20% 的时间内完成的，这 20% 的时间称为峰值时间

TPS（每秒事务数）：单位时间内系统处理客户端请求的事务数，计算：并发数/平均响应时间

QPS (每秒查询率)：单位时间内系统处理客户端请求的数量

吞吐量：系统单位时间内处理请求的数量，TPS/QPS 都是吞吐量的常用量化指标

---

资源利用率：不同系统资源的使用程度，通常以占用最大值的百分比来衡量，资源指标包括：

- CPU 使用率：一般上限不超过 85%
- 内存利用率：一般上限不超过 85%
- 磁盘 IO：一般用磁盘读写操作所占的时间百分比来衡量磁盘性能
- 网络带宽 ：用于判断网络连接速度是否有瓶颈





# 访问指标

**PV**(Page View)：页面访问量，即页面浏览量或点击量，用户每次刷新即被计算一次。可以统计服务一天的访问日志得到

**UV**(Unique Visitor)：独立访客，统计1天内访问某站点的用户数。可以统计服务一天的访问日志并根据用户的唯一标识去重得到。响应时间（RT）：响应时间是指系统对请求作出响应的时间，一般取平均响应时间。可以通过Nginx、Apache之类的Web Server得到

**DAU**(Daily Active User)，日活跃用户数量。常用于反映网站、互联网应用或网络游戏的运营情况。DAU通常统计一日（统计日）之内，登录或使用了某个产品的用户数（去除重复登录的用户），与UV概念相似

**MAU**(Month Active User)：月活跃用户数量，指网站、app等去重后的月活跃用户数量





# 其他

用户关注的是用户操作的相应时间。

其次，我们站在管理员的角度考虑需要关注的性能点。

1、 响应时间
2、 服务器资源使用情况是否合理
3、 应用服务器和数据库资源使用是否合理
4、 系统能否实现扩展
5、 系统最多支持多少用户访问、系统最大业务处理量是多少
6、 系统性能可能存在的瓶颈在哪里
7、 更换那些设备可以提高性能
8、 系统能否支持7×24小时的业务访问

再次，站在开发（设计）人员角度去考虑。

1、 架构设计是否合理
2、 数据库设计是否合理
3、 代码是否存在性能方面的问题
4、 系统中是否有不合理的内存使用方式
5、 系统中是否存在不合理的线程同步方式
6、 系统中是否存在不合理的资源竞争