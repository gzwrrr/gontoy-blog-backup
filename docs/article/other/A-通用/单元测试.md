---
title: "单元测试"
shortTitle: "单元测试"
description: "单元测试"
icon: ""
author: 
  name: gzw
  url: 
  email: 1627121193@qq.com
isOriginal: false
date: 2022-07-17
category: 
- "通用"
- "测试"
tag:
- "通用"
- "测试"
sticky: 1
star: false
article: true
timeline: true
dir:
  text: "单元测试"
  icon: ""
  collapsible: true
  index: true
  comment: true
headerDepth: 3
index: true
order: 2
copy:
  triggerWords: 100
  disableCopy: false
  disableSelection: false
feed:
  title: "单元测试"
  description: "单元测试"
  author:
    name: gzw
    email: 1627121193@qq.com
---





# 单元测试

[[toc]]



## 前言

> 测试不仅是质量保证工具，还应该被看作编程工具（设计工具）

测试先行编程：在编写出能够证明代码存在的失败测试之前，不写生产代码。

测试驱动开发（TDD）：先写测试，会向测试所期望的方向来驱动生产代码的设计，这样带来的好处一般有：

- 代码变得可用：代码的设计和API适合于使用场景
- 代码变得精益：生产代码仅仅实现场景所需的功能

只需要有一个使测试通过的清晰目标，随后编写足够的生产代码即可，不要多写。

题外话：代码优化是个值得权衡的问题，很难确定边界，但是被大多数开发者认可的一点是：不要过早优化，并且应该针对场景优化。

另外需要提防「偶发复杂性」，有时我们喜欢通过产出复杂设计来展现自己的能力，但最后可能连自己都不理解这样的设计，这样的复杂设计会扼杀生产力。

注：相关的概念还有：行为驱动开发（BDD），如今BDD的语境和领域都远远超出了代码，提升到了需求层面，与业务分析和需求行为结合。



一些提醒：

- 可读的代码才是可维护的代码

- 并非复杂代码才缺乏复杂性
- 结构有助于理解事物，可以降低心智负担
- 许多测试名称与测试内容是不匹配的
- 测试应该独立，要对测试的外部依赖敏感，测试类中不要依赖测试的顺序







测试替身是stub（桩）、fake（伪造对象）、mock（模拟对象）的总称，本质上是为了测试目的、用于替换真实协作者的对象。

