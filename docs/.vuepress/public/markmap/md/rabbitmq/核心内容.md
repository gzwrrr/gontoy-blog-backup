# RabbitMQ 核心内容

## 六大模式

- 简单模式（Simple Mode）：最简单的模式，也是最常见的模式。一个生产者发送一条消息，一个消费者接收一条消息。
- 工作模式（Work Queue Mode）：也称为任务队列模式，一个生产者发送一条消息到队列，多个消费者竞争获取消息进行处理。每个消息只会被一个消费者处理。
- 发布/订阅模式（Publish/Subscribe Mode）：生产者将消息发布到交换机（Exchange）上，多个消费者绑定到交换机上进行订阅，每个消息将被交换机转发给所有绑定的队列。适用于广播消息的场景。
- 路由模式（Routing Mode）：生产者将消息发送到指定的交换机上，并且设置了路由键（Routing Key）。消费者根据自己绑定的路由键，从交换机中获取消息进行处理。
- 主题模式（Topic Mode）：是路由模式的一种扩展，支持使用通配符匹配路由键。生产者将消息发送到交换机上，消费者根据自己绑定的路由键通配符，从交换机中获取匹配的消息进行处理。
- 发布确认模式（Publish Confirm Mode）：用于确保消息成功发送到RabbitMQ服务端。生产者发送消息后，等待RabbitMQ服务端的确认回执，如果收到了回执则表示消息已经被确认发送，否则则需要重发消息。

**补充：**还可以使用 RPC 模式。RPC模式与其他模式的区别在于其强调请求和响应之间的关联性，通常用于需要同步处理的场景，例如需要等待服务端返回结果的任务。其他模式则更适用于异步处理的场景，例如事件处理、日志记录等。





## 交换机的类型

1. Direct（直接连接）：将消息直接路由到对应的队列中。
2. Fanout（扇出（发布/订阅））：将消息广播到所有绑定的队列中。
3. Topic（主题）：将消息按照匹配规则路由到对应的队列中。
4. Headers（头交换机）：将消息按照消息头中的键值对进行匹配，匹配成功后路由到对应的队列中。





## 队列的类型

1. 工作队列
2. 死信队列
3. 延迟队列
4. 镜像队列





## 事务&消息确认机制

- 生产者消息确认
  - 生产者确认模式
  - 事务机制
- 消费者消息确认
  - 手动确认模式
  - 自动确认模式




## 消息持久化

1. 消息持久化
2. 消息确认与持久化的关系
3. 持久化交换机与队列


## 集群和高可用

1. 集群模式
2. 高可用模式
3. 镜像队列与集群
